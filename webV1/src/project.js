System.register("chunks:///src/SettingData.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,n){var e,a,l;return{setters:[function(t){e=t.classCallCheck},function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"455bcvtwb5BNoUm22UWzrTR","SettingData",void 0),t("SettingData",l=function t(){e(this,t)}),l.worldLogicSetting=null,l.worldManagerSetting=null,l.virusManagerData=null,a._RF.pop()}}}));

System.register("chunks:///prefabs/light-hint/light-hint.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,t){var i,o,r,n,a,l,s,c,u,h,p,d,m,f,_,y,v,C,g,b,k,w,z;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,o=e.inherits,r=e.classCallCheck,n=e.possibleConstructorReturn,a=e.getPrototypeOf,l=e.initializerDefineProperty,s=e.assertThisInitialized,c=e.createClass},function(e){u=e.cclegacy,h=e._decorator,p=e.Color,d=e.CameraComponent,m=e.ModelComponent,f=e.Vec2,_=e.Component}],execute:function(){u._RF.push({},"bd5838x//xGMYENw1vAlfIM","light-hint",void 0),w=h.ccclass,z=h.property,e("LightHint",(y=w("LightHint"),v=z(p),y((b=i((g=function(e){function t(){var e,i;r(this,t);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return i=n(this,(e=a(t)).call.apply(e,[this].concat(c))),l(i,"color",b,s(i)),l(i,"faceToCamera",k,s(i)),i._material=null,i._camera=null,i}return o(t,e),c(t,[{key:"onDestroy",value:function(){this._camera=null,this._material=null}},{key:"start",value:function(){this._camera=this.node.scene.getComponentInChildren(d),this._material=this.node.getComponent(m).material,this.setColor(this.color),this._material.setProperty("intensitySize",new f(.4,.4))}},{key:"setColor",value:function(e){this._material.setProperty("color",e)}},{key:"update",value:function(){this.faceToCamera&&this.node.setWorldRotation(this._camera.node.worldRotation)}}]),t}(_)).prototype,"color",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(g.prototype,"faceToCamera",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=g))||C)),u._RF.pop()}}}));

System.register("chunks:///src/worldObjects.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,r){var t,i,l,o,n,c,a,s,u,p,f,d,v,y,b,_,P,h,m,w,g,j,C;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_class3:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inherits,l=e.classCallCheck,o=e.possibleConstructorReturn,n=e.getPrototypeOf,c=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.createClass},function(e){u=e.cclegacy,p=e._decorator,f=e.Prefab,d=e.Component}],execute:function(){u._RF.push({},"ca4affYC8RGv7ulZn9wPvTu","worldObjects",void 0),j=p.ccclass,C=p.property,e("worldObjects",(v=j("worldObjects"),y=C(f),b=C(f),v((g=w=function(e){function r(){var e,t;l(this,r);for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return t=o(this,(e=n(r)).call.apply(e,[this].concat(s))),c(t,"person",h,a(t)),c(t,"familyPlace",m,a(t)),t}return i(r,e),s(r,[{key:"start",value:function(){r.familyPlace=this.familyPlace,r.personPrefab=this.person}}]),r}(d),w.personPrefab=null,w.familyPlace=null,h=t((P=g).prototype,"person",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(P.prototype,"familyPlace",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=P))||_)),u._RF.pop()}}}));

System.register("chunks:///src/Common.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(i,t){var e,o,r,n,a,l,c,s,u,d,p,b,f,v,h,_,m,g,y,w,z,D,M,R,C,P,V,B,H,N,S,k,F,W,I,O,T,j,L,q,x,J,Y,A,E,G,K,Q,U,X,Z,$;return i({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_class4:void 0,_class5:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_temp2:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_dec14:void 0,_dec15:void 0,_dec16:void 0,_dec17:void 0,_dec18:void 0,_dec19:void 0,_dec20:void 0,_class7:void 0,_class8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_descriptor13:void 0,_descriptor14:void 0,_descriptor15:void 0,_descriptor16:void 0,_descriptor17:void 0,_temp3:void 0,Common:void 0}),{setters:[function(i){e=i.applyDecoratedDescriptor,o=i.classCallCheck,r=i.initializerDefineProperty},function(i){n=i.cclegacy,a=i._decorator,l=i.Prefab}],execute:function(){n._RF.push({},"b446fo0yNJB57WvY5obcBNT","Common",void 0),function(i){function t(){var i=0,t=0,e=0;do{e=(i=2*Math.random()-1)*i+(t=2*Math.random()-1)*t}while(0==e||e>=1);return t*Math.sqrt(-2*Math.log(e)/e)}i.getNumberInNormalDistribution=function(i,e){return i+t()*e},i.randomNormalDistribution=t,i.sinInOut=function(i){return-.5*(Math.cos(Math.PI*i)-1)}}(X||i("Common",X={})),Z=a.ccclass,$=a.property,i("WorldLogicSetting",(c=Z("worldLogic.settingData"),s=$({tooltip:"启动时的时间倍数"}),u=$({tooltip:"家庭数量，不要设置太大"}),d=$({tooltip:"世界范围的大小"}),c((f=e((b=function i(){o(this,i),r(this,"timeRate",f,this),r(this,"FamilySum",v,this),r(this,"disance",h,this)}).prototype,"timeRate",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=e(b.prototype,"FamilySum",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),h=e(b.prototype,"disance",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),p=b))||p)),i("WorldManagerSetting",(_=Z("WorldManager.setting"),m=$({slide:!0,range:[0,1,.01],tooltip:"人类外出行为比率"}),g=$({slide:!0,range:[0,1,.01],tooltip:"抵抗力，能有多大机会抵抗掉病毒"}),y=$({tooltip:"最开始有多少病毒"}),w=$({tooltip:"标准健康，单位秒，144秒等于1天"}),z=$({tooltip:"正态分布权重数值，单位秒"}),_((R=e((M=function i(){o(this,i),r(this,"OutRatio",R,this),r(this,"personResistance",C,this),r(this,"startVirus",P,this),r(this,"personHealth",V,this),r(this,"personHealthDis",B,this)}).prototype,"OutRatio",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),C=e(M.prototype,"personResistance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=e(M.prototype,"startVirus",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V=e(M.prototype,"personHealth",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2016}}),B=e(M.prototype,"personHealthDis",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 432}}),D=M))||D)),i("VirusManagerData",(H=Z("VirusManager.setting"),N=$({tooltip:"是否渲染病毒，打开这个选项会很卡"}),S=$(l),k=$({tooltip:"散播间隔时间，单位秒"}),F=$({tooltip:"复制数量，每次复制自己的数量"}),W=$({tooltip:"感染距离"}),I=$({slide:!0,range:[0,1,.01],tooltip:"病毒感染成功率"}),O=$({tooltip:"单位秒，每6秒为1小时"}),T=$({tooltip:"潜伏期，单位秒，每6秒为1小时"}),j=$({tooltip:"攻击力，每秒（每十分钟）抵消多少生命值"}),H((x=e((q=function i(){o(this,i),r(this,"showVirusBody",x,this),r(this,"virusPrefab",J,this),r(this,"propagateTimespan",Y,this),r(this,"propagateCount",A,this),r(this,"infectDistance",E,this),r(this,"infectRate",G,this),r(this,"lifetime",K,this),r(this,"incubation",Q,this),r(this,"attack",U,this)}).prototype,"showVirusBody",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=e(q.prototype,"virusPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(q.prototype,"propagateTimespan",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),A=e(q.prototype,"propagateCount",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=e(q.prototype,"infectDistance",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),G=e(q.prototype,"infectRate",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=e(q.prototype,"lifetime",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 144}}),Q=e(q.prototype,"incubation",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2016}}),U=e(q.prototype,"attack",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=q))||L)),n._RF.pop()}}}));

System.register("chunks:///src/ai/AiRandomMove.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../place/placeBase.js","../world/worldLogic.js","./AiMoveTo.js"],(function(e,t){var o,i,n,s,a,r,c,l,u,m,p,h,d,v;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){o=e.inherits,i=e.classCallCheck,n=e.possibleConstructorReturn,s=e.getPrototypeOf,a=e.createClass},function(e){r=e.cclegacy,c=e._decorator,l=e.Component},function(e){u=e.placeBase},function(e){m=e.worldLogic},function(e){p=e.AiMoveTo}],execute:function(){r._RF.push({},"da159SDX2NAA5PL2Qk0cY8q","AiRandomMove",void 0),v=c.ccclass,c.property,e("AiRandomMove",(h=v("AiRandomMove"),h(d=function(e){function t(){var e,o;i(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(o=n(this,(e=s(t)).call.apply(e,[this].concat(r)))).time=1,o}return o(t,e),a(t,[{key:"start",value:function(){}},{key:"update",value:function(e){if(this.enabled){if(this.time-=e*m.timeRate,this.time<=0)if(this.getComponent(p))if(this.node.parent.getComponent(u)){var t=this.node.parent.getComponent(u).size;this.time=this.getComponent(p).moveTo(t*(2*Math.random()-1),t*(2*Math.random()-1),t*(2*Math.random()-1))}else this.time=10;else this.time=999999}else this.time=1}}]),t}(l))||d)),r._RF.pop()}}}));

System.register("chunks:///src/ai/AiVisit.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","./AiRandomMove.js","../world/worldManager.js","../person/personBase.js","../place/placeLogic.js","../world/worldLogic.js","./AiMoveTo.js"],(function(t,e){var o,n,i,s,a,r,c,h,l,p,d,u,m,v,g,f,C,y;return t({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(t){o=t.inherits,n=t.classCallCheck,i=t.possibleConstructorReturn,s=t.getPrototypeOf,a=t.createClass},function(t){r=t.cclegacy,c=t._decorator,h=t.find,l=t.Component},function(t){p=t.AiRandomMove},function(t){d=t.worldManager},function(t){u=t.personBase},function(t){m=t.placeLogic},function(t){v=t.worldLogic},function(t){g=t.AiMoveTo}],execute:function(){r._RF.push({},"a4855qchMJMFK+N+t8N5ROE","AiVisit",void 0),y=c.ccclass,c.property,t("AiVisit",(f=y("AiVisit"),f(C=function(t){function e(){var t,o;n(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(o=i(this,(t=s(e)).call.apply(t,[this].concat(r)))).time=0,o.timespan=0,o.targetPlace=null,o.state=0,o}return o(e,t),a(e,[{key:"beginOut",value:function(){var t=this.getComponent(p);t&&(t.enabled=!1);try{this.targetPlace=this.node.parent.parent.getComponent(m).getRandomPlaceNode(this.node.parent)}catch(t){}if(!this.targetPlace)return this.node.removeComponent(e),void(t&&(t.enabled=!0));this.state=1;var o=this.getComponent(g);this.node.setParent(this.node.parent.parent,!0),this.timespan=o.moveTo(this.targetPlace.node.position.x,this.targetPlace.node.position.y,this.targetPlace.node.position.z,this.state)}},{key:"beginBack",value:function(){var t=this.getComponent(p);t&&(t.enabled=!1),this.state=3;var e=this.getComponent(g),o=this.getComponent(u).placeNode;this.node.setParent(this.node.parent.parent,!0),this.timespan=e.moveTo(o.position.x,o.position.y,o.position.z,this.state)}},{key:"enterPlace",value:function(t){this.node.setParent(t,!0);var e=this.getComponent(p);e&&(e.enabled=!0)}},{key:"start",value:function(){this.timespan=5*Math.random()+1,this.node.on(g.MoveToComplated,this.onMoveToComplated,this)}},{key:"onDestroy",value:function(){this.node.off(g.MoveToComplated,this.onMoveToComplated,this)}},{key:"onMoveToComplated",value:function(t){1==t?(this.timespan=3*Math.random()+1,this.enterPlace(this.targetPlace.node),this.state=2):3==t&&(this.enterPlace(this.getComponent(u).placeNode),h("world").getComponent(d).removeAiVisit(this.node))}},{key:"update",value:function(t){if(this.node.parent.parent&&(this.time+=t*v.timeRate,this.time>=this.timespan))switch(this.time=0,this.state){case 0:this.beginOut();break;case 1:break;case 2:this.beginBack()}}}]),e}(l))||C)),r._RF.pop()}}}));

System.register("chunks:///src/virus/virusPropagate.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","./virusManager.js","../world/worldLogic.js"],(function(t,e){var i,r,n,o,s,a,c,u,l,p,d,v,f,h,m,g,y,_,b,w,P;return t({_dec:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(t){i=t.applyDecoratedDescriptor,r=t.inherits,n=t.classCallCheck,o=t.possibleConstructorReturn,s=t.getPrototypeOf,a=t.initializerDefineProperty,c=t.assertThisInitialized,u=t.createClass},function(t){l=t.cclegacy,p=t._decorator,d=t.systemEvent,v=t.Component},function(t){f=t.virusManager},function(t){h=t.worldLogic}],execute:function(){l._RF.push({},"6d7913ZmkROs4hOgdwGLXr2","virusPropagate",void 0),w=p.ccclass,P=p.property,t("virusPropagate",(m=w("virusPropagate"),m((_=i((y=function(t){function e(){var t,i;n(this,e);for(var r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];return i=o(this,(t=s(e)).call.apply(t,[this].concat(u))),a(i,"count",_,c(i)),a(i,"timespan",b,c(i)),i.time=0,i}return r(e,t),u(e,[{key:"start",value:function(){}},{key:"update",value:function(t){this.time+=t*h.timeRate,this.time>=this.timespan*(1+.2*Math.random())&&(this.time=0,d.emit(f.BrithOneVirus,this.node))}}]),e}(v)).prototype,"count",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=i(y.prototype,"timespan",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=y))||g)),l._RF.pop()}}}));

System.register("chunks:///src/virus/virusBase.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","./virusPropagate.js","./virusManager.js","../person/personBase.js","../world/worldLogic.js"],(function(e,t){var i,n,o,r,s,a,l,c,u,p,d,f,h,v,m,_,y,b,g,k,C,w,B,R,j,z,D;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inherits,o=e.classCallCheck,r=e.possibleConstructorReturn,s=e.getPrototypeOf,a=e.initializerDefineProperty,l=e.assertThisInitialized,c=e.createClass},function(e){u=e.cclegacy,p=e._decorator,d=e.find,f=e.Component},function(e){h=e.virusPropagate},function(e){v=e.virusManager},function(e){m=e.personBase},function(e){_=e.worldLogic}],execute:function(){u._RF.push({},"67569BwN/ZIHIbuRFQtveNT","virusBase",void 0),z=p.ccclass,D=p.property,e("virusBase",(y=z("virusBase"),b=D({tooltip:"单位秒，每6秒为1小时"}),g=D({tooltip:"潜伏期，单位秒，每6秒为1小时"}),k=D({tooltip:"攻击力，每秒（每十分钟）抵消多少生命值"}),y((B=i((w=function(e){function t(){var e,i;o(this,t);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return(i=r(this,(e=s(t)).call.apply(e,[this].concat(c)))).ID="0",a(i,"lifetime",B,l(i)),i._lifetime=0,a(i,"incubation",R,l(i)),a(i,"attack",j,l(i)),i}return n(t,e),c(t,[{key:"start",value:function(){this._lifetime=this.lifetime}},{key:"setLifeTime",value:function(e){this._lifetime=this.lifetime=e}},{key:"clearBody",value:function(){this.node.removeAllChildren()}},{key:"onDestroy",value:function(){d("world").getComponent(v).removeOne(this.node)}},{key:"update",value:function(e){if(this.person)this.incubation>0?this.incubation-=e*_.timeRate:this.person.getComponent(m).cutHealth(this.attack*e*_.timeRate,this.node);else{var t=this.getComponent(h);if(this.node.parent.parent.getComponent(m))this.person=this.node.parent.parent,t&&(t.enabled=!0),this.node.setScale(1,1,1);else if(this._lifetime-=e*_.timeRate,this._lifetime<=0)this.node.destroy();else{t&&(t.enabled=!1);var i=this._lifetime/this.lifetime;this.node.setScale(i,i,i)}}}}]),t}(f)).prototype,"lifetime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 144}}),R=i(w.prototype,"incubation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2016}}),j=i(w.prototype,"attack",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=w))||C)),u._RF.pop()}}}));

System.register("chunks:///src/virus/virusInfect.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../prefabs/light-hint/light-hint.js","./virusBase.js","../person/personBase.js","../place/placeBase.js","../world/worldLogic.js"],(function(e,t){var i,n,o,r,s,a,c,l,p,d,u,h,f,g,v,m,y,C,b,_,B,j,I,w,k;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inherits,o=e.classCallCheck,r=e.possibleConstructorReturn,s=e.getPrototypeOf,a=e.initializerDefineProperty,c=e.assertThisInitialized,l=e.createClass,p=e.createForOfIteratorHelper},function(e){d=e.cclegacy,u=e._decorator,h=e.Component},function(e){f=e.LightHint},function(e){g=e.virusBase},function(e){v=e.personBase},function(e){m=e.placeBase},function(e){y=e.worldLogic}],execute:function(){d._RF.push({},"ee2dcDhiF1MrpDa5jxVE5gs","virusInfect",void 0),w=u.ccclass,k=u.property,e("virusInfect",(C=w("virusInfect"),b=k({slide:!0,range:[0,1,.01],tooltip:"感染率，它在感染到目标的之前所判定的概率"}),C((j=i((B=function(e){function t(){var e,i;o(this,t);for(var n=arguments.length,l=new Array(n),p=0;p<n;p++)l[p]=arguments[p];return i=r(this,(e=s(t)).call.apply(e,[this].concat(l))),a(i,"distance",j,c(i)),a(i,"rate",I,c(i)),i.time=0,i}return n(t,e),l(t,[{key:"start",value:function(){}},{key:"update",value:function(e){if(this.time+=e*y.timeRate,this.time>=.1&&this.node.parent){this.time=0;var t=1;if(this.node.parent.getComponent(m)&&(t=this.node.parent.getComponent(m).contagion),Math.random()<this.rate*t){var i=this.node.parent.getComponent(m);if(i){var n,o=i.node.getComponentsInChildren(v),r=p(o);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(!s.getComponentInChildren(g))if(s.node.position.clone().subtract(this.node.position).length()<this.distance&&Math.random()>s.resistance){this.node.parent=s.node.getChildByName("body"),this.node.setPosition(0,0,0),this.node.getChildByName("light-hint")&&(this.node.getChildByName("light-hint").getComponent(f).faceToCamera=!1);break}}}catch(e){r.e(e)}finally{r.f()}}}}}}]),t}(h)).prototype,"distance",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),I=i(B.prototype,"rate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=B))||_)),d._RF.pop()}}}));

System.register("chunks:///src/virus/virusManager.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../SettingData.js","../Common.js","./virusPropagate.js","./virusBase.js","./virusInfect.js","../place/placeBase.js"],(function(t,e){var i,n,s,a,r,o,u,c,p,l,h,v,g,f,d,m,y,C,D,b,B,_,O,k,V,P,j;return t({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_class3:void 0,_temp:void 0}),{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inherits,s=t.classCallCheck,a=t.possibleConstructorReturn,r=t.getPrototypeOf,o=t.initializerDefineProperty,u=t.assertThisInitialized,c=t.createClass},function(t){p=t.cclegacy,l=t._decorator,h=t.instantiate,v=t.Component},function(t){g=t.SettingData},function(t){f=t.VirusManagerData},function(t){d=t.virusPropagate},function(t){m=t.virusBase},function(t){y=t.virusInfect},function(t){C=t.placeBase}],execute:function(){p._RF.push({},"e890c4+OjlGx7niWrehBV++","virusManager",void 0),P=l.ccclass,j=l.property,t("virusManager",(D=P("virusManager"),b=j({type:f}),D((V=k=function(t){function e(){var t,i;s(this,e);for(var n=arguments.length,c=new Array(n),p=0;p<n;p++)c[p]=arguments[p];return i=a(this,(t=r(e)).call.apply(t,[this].concat(c))),o(i,"setting",O,u(i)),i.list=[],i.idCount=0,i}return n(e,t),c(e,[{key:"start",value:function(){g.virusManagerData&&(g.virusManagerData.virusPrefab=this.setting.virusPrefab,this.setting=g.virusManagerData),cc.systemEvent.on(e.BrithOneVirus,this.onBrithOneVirus,this)}},{key:"onBrithOneVirus",value:function(t){this.brithOne(t)}},{key:"brithOne",value:function(t){var e=t.getComponent(m).person;if(e){var i=e.parent.getComponent(C);if(i&&!(Math.random()<i.inhibition)){var n=h(this.setting.virusPrefab);this.list.push(n);var s=n.getComponent(m);s.node.setPosition(e.position.clone()),s.node.parent=e.parent,this.idCount+=1,s.ID=t.getComponent(m).ID+"_"+this.idCount,this.setVirusData(s)}}}},{key:"createOne",value:function(t){var e=h(this.setting.virusPrefab);t.node.getChildByName("body").addChild(e),this.list.push(e);var i=e.getComponent(m);i.ID=this.idCount.toString(),this.setVirusData(i)}},{key:"setVirusData",value:function(t){this.setting.showVirusBody||t.clearBody(),t.getComponent(d).count=this.setting.propagateCount,t.getComponent(d).timespan=this.setting.propagateTimespan,t.getComponent(y).distance=this.setting.infectDistance,t.getComponent(y).rate=this.setting.infectRate,t.setLifeTime(this.setting.lifetime),t.incubation=this.setting.incubation,t.attack=this.setting.attack}},{key:"removeOne",value:function(t){var e=this.list.indexOf(t);e>=0&&this.list.splice(e,1)}},{key:"update",value:function(t){}}]),e}(v),k.BrithOneVirus="BrithOneVirus",O=i((_=V).prototype,"setting",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f}}),B=_))||B)),p._RF.pop()}}}));

System.register("chunks:///src/world/worldManager.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../SettingData.js","../Common.js","../ai/AiVisit.js","../virus/virusBase.js","../virus/virusManager.js","./worldLogic.js"],(function(e,t){var n,i,s,r,o,a,l,u,c,d,h,p,g,v,f,m,y,C,w,M,k,b,D,_,H,P;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inherits,s=e.classCallCheck,r=e.possibleConstructorReturn,o=e.getPrototypeOf,a=e.initializerDefineProperty,l=e.assertThisInitialized,u=e.createClass,c=e.createForOfIteratorHelper},function(e){d=e.cclegacy,h=e._decorator,p=e.Component},function(e){g=e.SettingData},function(e){v=e.WorldManagerSetting,f=e.Common},function(e){m=e.AiVisit},function(e){y=e.virusBase},function(e){C=e.virusManager},function(e){w=e.worldLogic}],execute:function(){d._RF.push({},"118abDQnbZHHpDbHwBkAg11","worldManager",void 0),H=h.ccclass,P=h.property,e("worldManager",(M=H("worldManager"),k=P({type:v}),M((_=n((D=function(e){function t(){var e,n;s(this,t);for(var i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];return n=r(this,(e=o(t)).call.apply(e,[this].concat(u))),a(n,"setting",_,l(n)),n.personIdCount=0,n.persons=[],n.places=[],n.deadList=[],n.timer=0,n}return i(t,e),u(t,[{key:"start",value:function(){g.worldManagerSetting&&(this.setting=g.worldManagerSetting)}},{key:"diePerson",value:function(e){e.node.getChildByName("body").getComponentInChildren(y).node.destroy(),this.removePerson(e);var t,n=c(e.node.components);try{for(n.s();!(t=n.n()).done;){t.value.enabled=!1}}catch(e){n.e(e)}finally{n.f()}e.node.parent=null}},{key:"addPerson",value:function(e){if(e.ID=this.personIdCount+=1,this.persons.push(e),this.setting.personHealthDis>0?e.health=f.getNumberInNormalDistribution(this.setting.personHealth,this.setting.personHealthDis):e.health=this.setting.personHealth,e.resistance=this.setting.personResistance,Math.random()<this.setting.OutRatio/2&&this.addAiVisit(e),this.setting.startVirus>0){this.setting.startVirus-=1;var t=this.getComponent(C);t&&t.createOne(e)}}},{key:"removePerson",value:function(e){var t=this.persons.indexOf(e);t>=0&&this.persons.splice(t,1),this.deadList.push(e)}},{key:"update",value:function(e){if(this.timer+=e*w.timeRate,this.timer>=1){this.timer=.2*Math.random()+1.8;var t=this.checkStandPersons();if((this.persons.length-t.length)/this.persons.length<this.setting.OutRatio){var n;do{n=t[Math.floor(Math.random()*t.length)]}while(n.getComponent(m)||"world"==n.node.parent.name);this.addAiVisit(n)}}}},{key:"checkStandPersons",value:function(){var e,t=[],n=c(this.persons);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.getComponent(m)||t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"addAiVisit",value:function(e){Math.random()>e.desireOut&&e.addComponent(m)}},{key:"removeAiVisit",value:function(e){e.removeComponent(m)}}]),t}(p)).prototype,"setting",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new v}}),b=D))||b)),d._RF.pop()}}}));

System.register("chunks:///src/person/personBase.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../prefabs/light-hint/light-hint.js","../virus/virusBase.js","../world/worldManager.js"],(function(t,e){var i,o,s,h,r,l,n,a,c,d,u,p,g,y,v,f,_,b,m,C,k,w,B,P,j,z,D;return t({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inherits,s=t.classCallCheck,h=t.possibleConstructorReturn,r=t.getPrototypeOf,l=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){c=t.cclegacy,d=t._decorator,u=t.find,p=t.color,g=t.Component},function(t){y=t.LightHint},function(t){v=t.virusBase},function(t){f=t.worldManager}],execute:function(){c._RF.push({},"db42dp+yo1OAqquq65Nd51r","personBase",void 0),z=d.ccclass,D=d.property,t("personBase",(_=z("personBase"),b=D({slide:!0,range:[0,1,.01],tooltip:"抵抗力，能有多大机会抵抗掉病毒"}),m=D({slide:!0,range:[0,1,.01],tooltip:"外出意愿，0为非常渴望，1为被隔离，中间值为判定随机"}),C=D({tooltip:"2016相当于一个均值，14天"}),_((B=i((w=function(t){function e(){var t,i;s(this,e);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(i=h(this,(t=r(e)).call.apply(t,[this].concat(a)))).ID=0,i.placeNode=null,l(i,"resistance",B,n(i)),l(i,"desireOut",P,n(i)),l(i,"health",j,n(i)),i.attacked=!1,i.bodylight=null,i._health=0,i}return o(e,t),a(e,[{key:"cutHealth",value:function(t,e){this._health-=t,this._health<=0&&u("world").getComponent(f).diePerson(this),e&&e.getComponent(v)&&(this.attacked=!0),this.attacked&&(this.desireOut=1-this._health/this.health+.5)}},{key:"setHealth",value:function(t){this._health=this.health=t}},{key:"start",value:function(){u("world").getComponent(f).addPerson(this),this.setHealth(this.health),this.bodylight=this.node.getChildByName("body").getComponent(y)}},{key:"onDestroy",value:function(){u("world").getComponent(f).removePerson(this),this.bodylight&&this.bodylight.node.removeAllChildren(),this.node.removeAllChildren(),this.bodylight=this.placeNode=null}},{key:"update",value:function(t){this.attacked?this.bodylight.setColor(p(this._health/this.health*255,0,0,255)):this._health!=this.health&&this.bodylight.setColor(p(this._health/this.health*255,this._health/this.health*255,this._health/this.health*255,255))}}]),e}(g)).prototype,"resistance",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=i(w.prototype,"desireOut",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=i(w.prototype,"health",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 144}}),k=w))||k)),c._RF.pop()}}}));

System.register("chunks:///src/place/placeBase.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../worldObjects.js","../Common.js","../person/personBase.js","./placeLogic.js"],(function(e,i){var t,o,n,r,s,a,c,l,u,p,d,f,m,b,v,h,g,y,_,z,C,P,D,N,j,w,B,I,k,x,L;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_class3:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inherits,n=e.classCallCheck,r=e.possibleConstructorReturn,s=e.getPrototypeOf,a=e.initializerDefineProperty,c=e.assertThisInitialized,l=e.createClass},function(e){u=e.cclegacy,p=e._decorator,d=e.math,f=e.instantiate,m=e.Component},function(e){b=e.worldObjects},function(e){v=e.Common},function(e){h=e.personBase},function(e){g=e.placeLogic}],execute:function(){u._RF.push({},"1cc8fziWpBJzqi3vKeYL8vN","placeBase",void 0),x=p.ccclass,L=p.property,e("placeBase",(y=x("placeBase"),_=L({slide:!0,range:[0,1,.01],tooltip:"抑制率，病毒在这个环境下被抑制的概率"}),z=L({slide:!0,range:[0,1,.01],tooltip:"传染率，病毒在这个环境下的传染影响程度"}),y((k=I=function(e){function i(){var e,t;n(this,i);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return(t=r(this,(e=s(i)).call.apply(e,[this].concat(l)))).ID=0,a(t,"visitWeight",D,c(t)),a(t,"maxPerson",N,c(t)),a(t,"inhibition",j,c(t)),a(t,"contagion",w,c(t)),a(t,"size",B,c(t)),t}return o(i,e),l(i,[{key:"start",value:function(){this.createPersons(b.personPrefab),this.ID=i.idCount+=1}},{key:"onDestroy",value:function(){this.node.removeAllChildren()}},{key:"createPersons",value:function(e){if(!(this.maxPerson<=0))for(var i=d.random()*this.maxPerson+1,t=0;t<i;t++){var o=f(e);this.getComponent(g)?this.getComponent(g).addGameNode(o):o.parent=this.node;var n=v.getNumberInNormalDistribution(0,this.size),r=v.getNumberInNormalDistribution(0,this.size),s=v.getNumberInNormalDistribution(0,this.size);o.setPosition(n,r,s),o.getComponent(h)&&(o.getComponent(h).placeNode=this.node)}}}]),i}(m),I.idCount=0,D=t((P=k).prototype,"visitWeight",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),N=t(P.prototype,"maxPerson",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),j=t(P.prototype,"inhibition",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=t(P.prototype,"contagion",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),B=t(P.prototype,"size",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),C=P))||C)),u._RF.pop()}}}));

System.register("chunks:///src/place/placeLogic.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","./placeBase.js"],(function(e,t){var n,o,a,c,s,r,i,l,u,p,h,d,f;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){n=e.inherits,o=e.classCallCheck,a=e.possibleConstructorReturn,c=e.getPrototypeOf,s=e.createClass,r=e.createForOfIteratorHelper},function(e){i=e.cclegacy,l=e._decorator,u=e.Component},function(e){p=e.placeBase}],execute:function(){i._RF.push({},"680436dNJNJM4e5TcoOp+oe","placeLogic",void 0),f=l.ccclass,l.property,e("placeLogic",(h=f("placeLogic"),h(d=function(e){function t(){var e,n;o(this,t);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(n=a(this,(e=c(t)).call.apply(e,[this].concat(r)))).placeNodes=null,n.sumWeight=0,n}return n(t,e),s(t,[{key:"start",value:function(){}},{key:"addGameNode",value:function(e){if(null==this.placeNodes){this.placeNodes=[];var t,n=this.node.getComponentsInChildren(p),o=r(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;this.placeNodes.push(a)}}catch(e){o.e(e)}finally{o.f()}}var c=e.getComponent(p);c&&(this.placeNodes.push(c),this.sumWeight+=c.visitWeight),e.parent=this.node}},{key:"getRandomPlaceNode",value:function(e){var t,n=this.sumWeight*Math.random(),o=0,a=e.getComponent(p),c=this.placeNodes.filter((function(e,t,n){return e.node.children.length>0}));c.length<=0&&(c=this.placeNodes);var s,i=r(c);try{for(i.s();!(s=i.n()).done;){var l=s.value;if(l!=a&&n<(o+=l.visitWeight)){t=l;break}}}catch(e){i.e(e)}finally{i.f()}return t}}]),t}(u))||d)),i._RF.pop()}}}));

System.register("chunks:///src/world/worldLogic.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../SettingData.js","../worldObjects.js","../Common.js","../place/placeLogic.js"],(function(t,e){var i,o,n,r,s,a,c,l,u,d,g,p,m,f,v,h,b,y,w,_,L,S,j,C,D,N;return t({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_class3:void 0,_temp:void 0}),{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inherits,n=t.classCallCheck,r=t.possibleConstructorReturn,s=t.getPrototypeOf,a=t.initializerDefineProperty,c=t.assertThisInitialized,l=t.createClass},function(t){u=t.cclegacy,d=t._decorator,g=t.instantiate,p=t.Component},function(t){m=t.SettingData},function(t){f=t.worldObjects},function(t){v=t.WorldLogicSetting,h=t.Common},function(t){b=t.placeLogic}],execute:function(){u._RF.push({},"d8bbabBsRVENYSOPQJgwOSZ","worldLogic",void 0),D=d.ccclass,N=d.property,t("worldLogic",(y=D("worldLogic"),w=N({type:v}),y((C=j=function(t){function e(){var t,i;n(this,e);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return i=r(this,(t=s(e)).call.apply(t,[this].concat(l))),a(i,"setting",S,c(i)),i}return o(e,t),l(e,[{key:"start",value:function(){m.worldLogicSetting&&(this.setting=m.worldLogicSetting),this.createWorld()}},{key:"createWorld",value:function(){for(var t=0;t<this.setting.FamilySum;t++){var e=g(f.familyPlace);this.getComponent(b).addGameNode(e);var i=h.getNumberInNormalDistribution(0,this.setting.disance/2),o=h.getNumberInNormalDistribution(0,this.setting.disance/2),n=h.getNumberInNormalDistribution(0,this.setting.disance/2);e.setPosition(i,o,n)}}},{key:"update",value:function(t){e.timeRate=this.setting.timeRate}}]),e}(p),j.timeRate=1,S=i((L=C).prototype,"setting",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new v}}),_=L))||_)),u._RF.pop()}}}));

System.register("chunks:///src/ai/AiMoveTo.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../Common.js","../world/worldLogic.js"],(function(e,t){var o,i,s,n,r,c,a,l,u,h,m,p,v,d,T,g;return e({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(e){o=e.inherits,i=e.classCallCheck,s=e.possibleConstructorReturn,n=e.getPrototypeOf,r=e.createClass},function(e){c=e.cclegacy,a=e._decorator,l=e.v3,u=e.Component},function(e){h=e.Common},function(e){m=e.worldLogic}],execute:function(){c._RF.push({},"16ea01pivNEJ5Ij/IpAvbHa","AiMoveTo",void 0),g=a.ccclass,a.property,e("AiMoveTo",(p=g("AiMoveTo"),p((T=d=function(e){function t(){var e,o;i(this,t);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(o=s(this,(e=n(t)).call.apply(e,[this].concat(c)))).costTime=0,o.sumTime=0,o.beginPostition=null,o.moveVector=null,o.speed=1,o}return o(t,e),r(t,[{key:"start",value:function(){this.speed=5/6}},{key:"moveTo",value:function(e,o,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.speed=5/6/Math.pow(10,t.getSpeedRate(this.node)),this.beginPostition=this.node.position.clone();var n=l(e,o,i).subtract(this.node.position),r=l(e,o,i).subtract(this.node.position).length();return this.moveVector=n,this.costTime=0,this.sumTime=r/this.speed,this.currentTag=s,this.sumTime}},{key:"update",value:function(e){if(this.moveVector)if(this.costTime>=this.sumTime)this.moveVector=null,this.node.emit(t.MoveToComplated,this.currentTag);else{this.costTime+=e*m.timeRate;var o=this.costTime/this.sumTime;o=h.sinInOut(o);var i=this.moveVector.clone().multiplyScalar(o).add(this.beginPostition);this.node.setPosition(i)}}}],[{key:"getSpeedRate",value:function(e){return e.parent&&"world"!=e.parent.name?t.getSpeedRate(e.parent)+1:0}}]),t}(u),d.MoveToComplated="MoveToComplated",v=T))||v)),c._RF.pop()}}}));

System.register("chunks:///src/first-person-camera.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,t){var o,n,i,s,c,r,a,y,h,l,v,d,u,p,E,m,S,_,f,T,C,k,g,x,w,A,z,b;return e({_dec:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_temp:void 0}),{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inherits,i=e.classCallCheck,s=e.possibleConstructorReturn,c=e.getPrototypeOf,r=e.initializerDefineProperty,a=e.assertThisInitialized,y=e.createClass},function(e){h=e.cclegacy,l=e._decorator,v=e.Vec2,d=e.Vec3,u=e.Quat,p=e.Component}],execute:function(){h._RF.push({},"7a08b4whHZGTa95HV8LW9ZS","first-person-camera",void 0),k=l.ccclass,g=l.property,x=new v,w=new v,A=new d,z=new u,b={W:"W".charCodeAt(0),S:"S".charCodeAt(0),A:"A".charCodeAt(0),D:"D".charCodeAt(0),Q:"Q".charCodeAt(0),E:"E".charCodeAt(0),SHIFT:cc.macro.KEY.shift},e("FirstPersonCamera",(E=g({slide:!0,range:[.05,.5,.01]}),k((_=o((S=function(e){function t(){var e,o;i(this,t);for(var n=arguments.length,y=new Array(n),h=0;h<n;h++)y[h]=arguments[h];return o=s(this,(e=c(t)).call.apply(e,[this].concat(y))),r(o,"moveSpeed",_,a(o)),r(o,"moveSpeedShiftScale",f,a(o)),r(o,"damp",T,a(o)),r(o,"rotateSpeed",C,a(o)),o._euler=new d,o._velocity=new d,o._position=new d,o._speedScale=1,o}return n(t,e),y(t,[{key:"onLoad",value:function(){cc.systemEvent.on(cc.SystemEvent.EventType.MOUSE_WHEEL,this.onMouseWheel,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),cc.systemEvent.on(cc.SystemEvent.EventType.TOUCH_START,this.onTouchStart,this),cc.systemEvent.on(cc.SystemEvent.EventType.TOUCH_MOVE,this.onTouchMove,this),cc.systemEvent.on(cc.SystemEvent.EventType.TOUCH_END,this.onTouchEnd,this),d.copy(this._euler,this.node.eulerAngles),d.copy(this._position,this.node.position)}},{key:"onDestroy",value:function(){cc.systemEvent.off(cc.SystemEvent.EventType.MOUSE_WHEEL,this.onMouseWheel,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),cc.systemEvent.off(cc.SystemEvent.EventType.TOUCH_START,this.onTouchStart,this),cc.systemEvent.off(cc.SystemEvent.EventType.TOUCH_MOVE,this.onTouchMove,this),cc.systemEvent.off(cc.SystemEvent.EventType.TOUCH_END,this.onTouchEnd,this)}},{key:"update",value:function(e){d.transformQuat(A,this._velocity,this.node.rotation),d.scaleAndAdd(this._position,this._position,A,this.moveSpeed*this._speedScale),d.lerp(A,this.node.position,this._position,e/this.damp),this.node.setPosition(A),u.fromEuler(z,this._euler.x,this._euler.y,this._euler.z),u.slerp(z,this.node.rotation,z,e/this.damp),this.node.setRotation(z)}},{key:"onMouseWheel",value:function(e){var t=-e.getScrollY()*this.moveSpeed*.1;d.transformQuat(A,d.UNIT_Z,this.node.rotation),d.scaleAndAdd(this._position,this.node.position,A,t)}},{key:"onKeyDown",value:function(e){var t=this._velocity;e.keyCode===b.SHIFT?this._speedScale=this.moveSpeedShiftScale:e.keyCode===b.W?0===t.z&&(t.z=-1):e.keyCode===b.S?0===t.z&&(t.z=1):e.keyCode===b.A?0===t.x&&(t.x=-1):e.keyCode===b.D?0===t.x&&(t.x=1):e.keyCode===b.Q?0===t.y&&(t.y=-1):e.keyCode===b.E&&0===t.y&&(t.y=1)}},{key:"onKeyUp",value:function(e){var t=this._velocity;e.keyCode===b.SHIFT?this._speedScale=1:e.keyCode===b.W?t.z<0&&(t.z=0):e.keyCode===b.S?t.z>0&&(t.z=0):e.keyCode===b.A?t.x<0&&(t.x=0):e.keyCode===b.D?t.x>0&&(t.x=0):e.keyCode===b.Q?t.y<0&&(t.y=0):e.keyCode===b.E&&t.y>0&&(t.y=0)}},{key:"onTouchStart",value:function(e){cc.game.canvas.requestPointerLock&&cc.game.canvas.requestPointerLock()}},{key:"onTouchMove",value:function(e){e.getStartLocation(x),x.x>.4*cc.game.canvas.width?(e.getDelta(w),this._euler.y-=w.x*this.rotateSpeed*.1,this._euler.x+=w.y*this.rotateSpeed*.1):(e.getLocation(w),v.subtract(w,w,x),this._velocity.x=.01*w.x,this._velocity.z=.01*-w.y)}},{key:"onTouchEnd",value:function(e){document.exitPointerLock&&document.exitPointerLock(),e.getStartLocation(x),x.x<.4*cc.game.canvas.width&&(this._velocity.x=0,this._velocity.z=0)}}]),t}(p)).prototype,"moveSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=o(S.prototype,"moveSpeedShiftScale",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),T=o(S.prototype,"damp",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),C=o(S.prototype,"rotateSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=S))||m)),h._RF.pop()}}}));

System.register("chunks:///src/person/personLogic.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,s){var t,o,c,r,n,i,u,p,l,a,f;return e({_dec:void 0,_class:void 0}),{setters:[function(e){t=e.inherits,o=e.createClass,c=e.classCallCheck,r=e.possibleConstructorReturn,n=e.getPrototypeOf},function(e){i=e.cclegacy,u=e._decorator,p=e.Component}],execute:function(){i._RF.push({},"e5512x2ZV1LvLCcXplasIsh","personLogic",void 0),f=u.ccclass,u.property,e("personLogic",(l=f("personLogic"),l(a=function(e){function s(){return c(this,s),r(this,n(s).apply(this,arguments))}return t(s,e),o(s,[{key:"start",value:function(){}}]),s}(p))||a)),i._RF.pop()}}}));

System.register("chunks:///src/scene/StartScene.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../SettingData.js","../Common.js"],(function(t,e){var i,r,n,a,o,s,l,c,p,u,g,d,h,f,m,b,S,v,y,_,F,w,R,N,D,C,z,k,H,V,B,O,T,M,x,j,A,L,E,P,I,W,G,Z,q,J,K,Q,U,X,Y,$,tt;return t({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_dec14:void 0,_dec15:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_descriptor13:void 0,_descriptor14:void 0,_temp:void 0}),{setters:[function(t){i=t.applyDecoratedDescriptor,r=t.inherits,n=t.classCallCheck,a=t.possibleConstructorReturn,o=t.getPrototypeOf,s=t.initializerDefineProperty,l=t.assertThisInitialized,c=t.createClass},function(t){p=t.cclegacy,u=t._decorator,g=t.ToggleComponent,d=t.SliderComponent,h=t.EditBoxComponent,f=t.LabelComponent,m=t.director,b=t.Component},function(t){S=t.SettingData},function(t){v=t.VirusManagerData,y=t.WorldManagerSetting,_=t.WorldLogicSetting}],execute:function(){p._RF.push({},"44d7a44ZElEN4Any4aAA/DI","StartScene",void 0),$=u.ccclass,tt=u.property,t("StartScene",(F=$("StartScene"),w=tt(g),R=tt(d),N=tt(d),D=tt(d),C=tt(h),z=tt(h),k=tt(h),H=tt(h),V=tt(h),B=tt(h),O=tt(h),T=tt(h),M=tt(h),x=tt(h),F((L=i((A=function(t){function e(){var t,i;n(this,e);for(var r=arguments.length,c=new Array(r),p=0;p<r;p++)c[p]=arguments[p];return i=a(this,(t=o(e)).call.apply(t,[this].concat(c))),s(i,"showVirusBody",L,l(i)),s(i,"OutRatio",E,l(i)),s(i,"personResistance",P,l(i)),s(i,"infectRate",I,l(i)),s(i,"FamilySum",W,l(i)),s(i,"disance",G,l(i)),s(i,"startVirus",Z,l(i)),s(i,"personHealth",q,l(i)),s(i,"personHealthDis",J,l(i)),s(i,"propagateTimespan",K,l(i)),s(i,"attack",Q,l(i)),s(i,"infectDistance",U,l(i)),s(i,"lifetime",X,l(i)),s(i,"incubation",Y,l(i)),i}return r(e,t),c(e,[{key:"start",value:function(){var t=S.virusManagerData=new v,e=S.worldManagerSetting=new y,i=S.worldLogicSetting=new _;this.showVirusBody.isChecked=t.showVirusBody,this.OutRatio.progress=e.OutRatio,this.personResistance.progress=e.personResistance,this.infectRate.progress=t.infectRate,this.FamilySum.string=i.FamilySum.toString(),this.disance.string=i.disance.toString(),this.startVirus.string=e.startVirus.toString(),this.personHealth.string=e.personHealth.toString(),this.personHealthDis.string=e.personHealthDis.toString(),this.propagateTimespan.string=t.propagateTimespan.toString(),this.attack.string=t.attack.toString(),this.infectDistance.string=t.infectDistance.toString(),this.lifetime.string=t.lifetime.toString(),this.incubation.string=t.incubation.toString()}},{key:"update",value:function(t){this.OutRatio.node.parent.getChildByName("value").getComponent(f).string=(100*this.OutRatio.progress).toFixed(0)+"%",this.personResistance.node.parent.getChildByName("value").getComponent(f).string=(100*this.personResistance.progress).toFixed(0)+"%",this.infectRate.node.parent.getChildByName("value").getComponent(f).string=(100*this.infectRate.progress).toFixed(0)+"%"}},{key:"onClickStart",value:function(){var t=S.virusManagerData,e=S.worldManagerSetting,i=S.worldLogicSetting;t.showVirusBody=this.showVirusBody.isChecked,e.OutRatio=this.OutRatio.progress,e.personResistance=this.personResistance.progress,t.infectRate=this.infectRate.progress,"NaN"!=parseFloat(this.FamilySum.string).toString()?(i.FamilySum=parseFloat(this.FamilySum.string),"NaN"!=parseFloat(this.disance.string).toString()?(i.disance=parseFloat(this.disance.string),"NaN"!=parseFloat(this.startVirus.string).toString()?(e.startVirus=parseFloat(this.startVirus.string),"NaN"!=parseFloat(this.personHealth.string).toString()?(e.personHealth=parseFloat(this.personHealth.string),"NaN"!=parseFloat(this.personHealthDis.string).toString()?(e.personHealthDis=parseFloat(this.personHealthDis.string),"NaN"!=parseFloat(this.propagateTimespan.string).toString()?(t.propagateTimespan=parseFloat(this.propagateTimespan.string),"NaN"!=parseFloat(this.attack.string).toString()?(t.attack=parseFloat(this.attack.string),"NaN"!=parseFloat(this.infectDistance.string).toString()?(t.infectDistance=parseFloat(this.infectDistance.string),"NaN"!=parseFloat(this.lifetime.string).toString()?(t.lifetime=parseFloat(this.lifetime.string),"NaN"!=parseFloat(this.incubation.string).toString()?(t.incubation=parseFloat(this.incubation.string),m.loadScene("scene/Game Scene")):alert("请填写正确的数值")):alert("请填写正确的数值")):alert("请填写正确的数值")):alert("请填写正确的数值")):alert("请填写正确的数值")):alert("请填写正确的数值")):alert("请填写正确的数值")):alert("请填写正确的数值")):alert("请填写正确的数值")):alert("请填写正确的数值")}}]),e}(b)).prototype,"showVirusBody",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(A.prototype,"OutRatio",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(A.prototype,"personResistance",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(A.prototype,"infectRate",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(A.prototype,"FamilySum",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(A.prototype,"disance",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(A.prototype,"startVirus",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(A.prototype,"personHealth",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(A.prototype,"personHealthDis",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(A.prototype,"propagateTimespan",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(A.prototype,"attack",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(A.prototype,"infectDistance",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(A.prototype,"lifetime",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(A.prototype,"incubation",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=A))||j)),p._RF.pop()}}}));

System.register("chunks:///src/ui/worldUI.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../virus/virusBase.js","../virus/virusManager.js","../world/worldManager.js","../world/worldLogic.js"],(function(e,t){var i,r,n,o,l,a,s,d,u,c,p,f,g,m,b,v,h,w,y,_,R,C,I,z,P,S,x,D,N,F,T,j,k,M,O,B,L,U,V,H,A,K,q,E,G,J;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inherits,n=e.classCallCheck,o=e.possibleConstructorReturn,l=e.getPrototypeOf,a=e.initializerDefineProperty,s=e.assertThisInitialized,d=e.createClass,u=e.createForOfIteratorHelper},function(e){c=e.cclegacy,p=e._decorator,f=e.LabelComponent,g=e.SpriteComponent,m=e.SliderComponent,b=e.find,v=e.Component},function(e){h=e.virusBase},function(e){w=e.virusManager},function(e){y=e.worldManager},function(e){_=e.worldLogic}],execute:function(){c._RF.push({},"54fe9+htu1Cf6NsyFfdKcD5","worldUI",void 0),G=p.ccclass,J=p.property,e("worldUI",(R=G("worldUI"),C=J(f),I=J(f),z=J(f),P=J(f),S=J(g),x=J(f),D=J(f),N=J(f),F=J(f),T=J(m),R((M=i((k=function(e){function t(){var e,i;n(this,t);for(var r=arguments.length,d=new Array(r),u=0;u<r;u++)d[u]=arguments[u];return i=o(this,(e=l(t)).call.apply(e,[this].concat(d))),a(i,"lbVirus",M,s(i)),a(i,"lbPerson",O,s(i)),a(i,"lbInfected",B,s(i)),a(i,"lbInfectedPercent",L,s(i)),a(i,"spInfectedPercent",U,s(i)),a(i,"lbDead",V,s(i)),a(i,"OutRatio",H,s(i)),a(i,"timeDay",A,s(i)),a(i,"timeRate",K,s(i)),a(i,"sliderTimeRate",q,s(i)),a(i,"maxTimeRate",E,s(i)),i.timeSum=0,i.worldNode=null,i}return r(t,e),d(t,[{key:"start",value:function(){this.worldNode=b("world");var e=this.worldNode.getComponent(_).setting.timeRate;this.sliderTimeRate.progress=e/this.maxTimeRate,this.timeRate.string=e.toFixed(2).toString()}},{key:"update",value:function(e){var t=this.worldNode.getComponent(y).persons;this.lbPerson.string=t.length.toString();var i=this.getInfected(t);this.lbInfected.string=i.toString(),this.lbVirus.string=this.worldNode.getComponent(w).list.length.toString();var r=i/t.length;t.length>0&&(this.lbInfectedPercent.string=(100*r).toFixed(1)+"%",this.spInfectedPercent.fillRange=r),this.lbDead.string=this.worldNode.getComponent(y).deadList.length.toFixed(0),this.timeSum+=e*_.timeRate;var n=this.timeSum/6,o=Math.floor(n/24);n-=24*o;var l=Math.floor(n).toString();this.timeDay.string=o+"天"+(2==l.length?l:0+l)+"小时",this.OutRatio.string=(100*this.worldNode.getComponent(y).setting.OutRatio).toFixed(0)+"%"}},{key:"getInfected",value:function(e){var t,i=0,r=u(e);try{for(r.s();!(t=r.n()).done;){t.value.node.getChildByName("body").getComponentInChildren(h)&&(i+=1)}}catch(e){r.e(e)}finally{r.f()}return i}},{key:"sliderProgress",value:function(e){var t=this.worldNode.getComponent(_).setting.timeRate=this.sliderTimeRate.progress*this.maxTimeRate;this.timeRate.string=t.toFixed(2).toString()}}]),t}(v)).prototype,"lbVirus",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(k.prototype,"lbPerson",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(k.prototype,"lbInfected",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(k.prototype,"lbInfectedPercent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(k.prototype,"spInfectedPercent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(k.prototype,"lbDead",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(k.prototype,"OutRatio",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(k.prototype,"timeDay",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(k.prototype,"timeRate",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(k.prototype,"sliderTimeRate",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(k.prototype,"maxTimeRate",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),j=k))||j)),c._RF.pop()}}}));

System.register("chunks:///_virtual/prerequisite-imports:main",["../src/SettingData.js","../prefabs/light-hint/light-hint.js","../src/worldObjects.js","../src/Common.js","../src/ai/AiRandomMove.js","../src/ai/AiVisit.js","../src/virus/virusPropagate.js","../src/virus/virusBase.js","../src/virus/virusInfect.js","../src/virus/virusManager.js","../src/world/worldManager.js","../src/person/personBase.js","../src/place/placeBase.js","../src/place/placeLogic.js","../src/world/worldLogic.js","../src/ai/AiMoveTo.js","../src/first-person-camera.js","../src/person/personLogic.js","../src/scene/StartScene.js","../src/ui/worldUI.js"],(function(s,n){return{setters:[function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){},function(s){}],execute:function(){}}}));

(function(r) {
  r('project:///assets/src/SettingData.js', 'chunks:///src/SettingData.js');
  r('project:///assets/prefabs/light-hint/light-hint.js', 'chunks:///prefabs/light-hint/light-hint.js');
  r('project:///assets/src/worldObjects.js', 'chunks:///src/worldObjects.js');
  r('project:///assets/src/Common.js', 'chunks:///src/Common.js');
  r('project:///assets/src/ai/AiRandomMove.js', 'chunks:///src/ai/AiRandomMove.js');
  r('project:///assets/src/ai/AiVisit.js', 'chunks:///src/ai/AiVisit.js');
  r('project:///assets/src/virus/virusPropagate.js', 'chunks:///src/virus/virusPropagate.js');
  r('project:///assets/src/virus/virusBase.js', 'chunks:///src/virus/virusBase.js');
  r('project:///assets/src/virus/virusInfect.js', 'chunks:///src/virus/virusInfect.js');
  r('project:///assets/src/virus/virusManager.js', 'chunks:///src/virus/virusManager.js');
  r('project:///assets/src/world/worldManager.js', 'chunks:///src/world/worldManager.js');
  r('project:///assets/src/person/personBase.js', 'chunks:///src/person/personBase.js');
  r('project:///assets/src/place/placeBase.js', 'chunks:///src/place/placeBase.js');
  r('project:///assets/src/place/placeLogic.js', 'chunks:///src/place/placeLogic.js');
  r('project:///assets/src/world/worldLogic.js', 'chunks:///src/world/worldLogic.js');
  r('project:///assets/src/ai/AiMoveTo.js', 'chunks:///src/ai/AiMoveTo.js');
  r('project:///assets/src/first-person-camera.js', 'chunks:///src/first-person-camera.js');
  r('project:///assets/src/person/personLogic.js', 'chunks:///src/person/personLogic.js');
  r('project:///assets/src/scene/StartScene.js', 'chunks:///src/scene/StartScene.js');
  r('project:///assets/src/ui/worldUI.js', 'chunks:///src/ui/worldUI.js');
  r('virtual:///prerequisite-imports:main', 'chunks:///_virtual/prerequisite-imports:main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    var _m;
    return {
        setters: [function(m) { _m = m; }],
        execute: function () { _export(_m); }
    };
    });
});